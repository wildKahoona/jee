<ui:composition template="/template.xhtml"
				xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:f="http://xmlns.jcp.org/jsf/core"
				xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
				xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
	<ui:define name="content">
	
		<div class="row">
			<div class="col-md-offset-3 col-md-6 col-md-offset-3">
		
				<div class="panel panel-primary">
					<div class="panel-heading">
						<h3 class="panel-title"><h:outputText value="#{msg['menu_condition']}"/></h3>
					</div>
					<div class="panel-body">						
						<h:form id="conditionForm">
							<h:message for="conditionForm" showSummary="true" styleClass="text-success"/>
		 
		 						<div class="row">
									<div class="col-sm-6 form-group">
										<div class="form-group"> 
											<h:outputLabel for="description" value="#{msg['description']}:"/>
											<div class="cols-sm-10">
												<div class="input-group">
													<span class="input-group-addon"><i class="fa fa-user fa" aria-hidden="true"></i></span>
													<h:inputText id="description" class="form-control" value="#{conditionController.description}" p:placeholder="#{msg['description.placeholder']}" required="true" requiredMessage="description is required"/>
													<h:message for="description" style="color:red"/>
												</div>
											</div>
										 </div>
										 
										 <h:commandLink action="#{conditionController.add}"
										 				class="btn btn-success">
										 	<span class="glyphicon glyphicon-plus"></span> #{msg['add']}
										 	<f:ajax execute="conditionForm" render="@form" />
										 </h:commandLink>
								  
								 	</div>
								 </div>
								 
								<h:dataTable id="conditionTable"
											 value="#{conditionController.conditionList}" var="con" 
											 class="table table-responsive table-bordered table-striped">                                                > 
								    <h:column sortingExpression="#{con.description}" style="width: 100px;">
								        <f:facet name="header">
						    			   <h:commandLink value="#{msg['condition']}" action="#{conditionController.sortByDescription}">
						    			   		<f:ajax render="@form" />
						    			   </h:commandLink>
						    			</f:facet>
								        <h:inputText value="#{con.description}" rendered="#{con.editable}" required="true" requiredMessage="description is required"/>
		               					<h:outputText value="#{con.description}" rendered="#{not con.editable}" />
								    </h:column>
								    					    
								    <h:column>
						                <h:commandLink action="#{conditionController.edit(con)}" 
						                			   class="btn btn-primary btn-sm"
						                			   rendered="#{not con.editable}">
						                	<span class="glyphicon glyphicon-pencil"></span> #{msg['edit']}
											<f:ajax render="@form" />
						                </h:commandLink>
						                
						                <h:commandLink action="#{conditionController.update(con)}" 
						                			   class="btn btn-success btn-sm"
						                			   rendered="#{con.editable}">
						                	<span class="glyphicon glyphicon-save"></span> #{msg['save']}
						                    <f:ajax execute="conditionForm:conditionTable" render="@form" /> 
						                </h:commandLink>
						                 
						                <h:commandLink action="#{conditionController.cancelEdit(con)}"
						                			   class="btn btn-default btn-sm"
						                			   rendered="#{con.editable}" >
						                	<span class="glyphicon glyphicon-remove"></span> #{msg['cancel']}
						                    <f:ajax render="@form" />
						                </h:commandLink>
						                
						                <f:attribute value="center" name="align" />
										<f:attribute value="middle" name="valign" />
						            </h:column>
						            			               
						            <h:column>
						                <h:commandLink id="remove"
						                			   class="btn btn-danger btn-sm"
						                			   action="#{conditionController.remove(con)}"
						                               onclick="return confirm('#{msg['deleteQuestion']}')">
						                    <span class="glyphicon glyphicon-trash"></span> #{msg['delete']}
						                    <f:ajax render="@form" />
						                </h:commandLink>
						            </h:column>
								</h:dataTable>
					 								
						</h:form>									
					</div>								
				</div>
			</div>
		</div>

	</ui:define>
</ui:composition>