<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
			 xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
			 xmlns:h="http://xmlns.jcp.org/jsf/html"
			 xmlns:f="http://xmlns.jcp.org/jsf/core"
			 xmlns:c="http://java.sun.com/jsp/jstl/core"
			 xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
	
	<div class="container" style="margin: 0px;">
	
		<div class="panel panel-primary cat-panel">
			<div class="panel-heading">
				<h3 class="panel-title">Condition</h3>
			</div>
			<div class="panel-body">						
				<h:form id="conditionForm">
					<h:message for="conditionForm" showSummary="true" styleClass="text-success"/>
 
 						<div class="row">
							<div class="col-sm-6 form-group">
								<div class="form-group"> 
									<h:outputLabel for="description" value="#{msg['description']}:"/>
									<div class="cols-sm-10">
										<div class="input-group">
											<span class="input-group-addon"><i class="fa fa-user fa" aria-hidden="true"></i></span>
											<h:inputText id="description" class="form-control" value="#{conditionController.description}" p:placeholder="#{msg['description.placeholder']}" required="true" requiredMessage="description is required"/>
											<h:message for="description" style="color:red"/>
										</div>
									</div>
								 </div>
								 
								 <h:commandButton value="#{msg['add']}" action="#{conditionController.add}" class="btn btn-success btnSpace">
								 	<f:ajax execute="conditionForm" render="conditionForm:conditionTable" />
								 </h:commandButton>
						  
						 	</div>
						 </div>
						 
						<div class="row">
							<h:dataTable id="conditionTable"
										 value="#{conditionController.conditionList}" var="con" 
										 class="table table-responsive table-bordered table-striped "                                                  > 
							    <h:column sortingExpression="#{con.description}">
							        <f:facet name="header">
					    			   <h:commandLink value="#{msg['category']}"  action="#{conditionController.sortByDescription}">
					    			   		<f:ajax render="@form" />
					    			   </h:commandLink>
					    			</f:facet>
    			
							        <h:inputText value="#{con.description}" rendered="#{con.editable}" required="true" requiredMessage="description is required"/>
                					<h:outputText value="#{con.description}" rendered="#{not con.editable}" />
							    </h:column>
							    
							    
							    <h:column>
					                <h:commandLink action="#{conditionController.edit(con)}" 
					                			   class="btn btn-primary btn-sm"
					                			   rendered="#{not con.editable}">
					                	<span class="glyphicon glyphicon-pencil"></span> #{msg['edit']}
										<f:ajax render="@form" />
					                </h:commandLink>
					                
					                <h:commandLink action="#{conditionController.update(con)}" 
					                			   class="btn btn-success btn-sm"
					                			   rendered="#{con.editable}">
					                	<span class="glyphicon glyphicon-save"></span> #{msg['save']}
					                    <f:ajax execute="conditionForm:conditionTable" render="conditionForm:conditionTable" /> 
					                </h:commandLink>
					                 <h:column>
					                 
					                <h:commandLink value="#{msg['cancel']}" 
					                			   class="btn btn-default btn-sm"
					                			   action="#{conditionController.cancelEdit(con)}" 
					                			   rendered="#{con.editable}" >
					                    <f:ajax render="@form" />
					                </h:commandLink>
					            </h:column>
					            </h:column> 
				               
					            <h:column>
					                <h:commandLink id="remove"
					                			   class="btn btn-danger btn-sm"
					                			   action="#{conditionController.remove(con)}"
					                               onclick="return confirm('#{msg['deleteQuestion']}')">
					                    <span class="glyphicon glyphicon-trash"></span> #{msg['delete']}
					                    <f:ajax render="@form" />
					                </h:commandLink>
					            </h:column>
							</h:dataTable>
						</div> 			 								
				</h:form>									
			</div>								
		</div>
	
	</div>

</ui:fragment>