<ui:composition template="/template.xhtml"
				xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:f="http://xmlns.jcp.org/jsf/core"
				xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
				xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
	<ui:define name="content">
	
		<div class="container">

			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title">Category</h3>
				</div>
				<div class="panel-body">						
					<h:form id="categoryForm">
						<h:message for="categoryForm" showSummary="true" styleClass="text-success"/>
	 
	 						<div class="row">
								<div class="col-sm-6 form-group">
									<div class="form-group"> 
										<h:outputLabel for="description" value="#{msg['description']}:"/>
										<div class="cols-sm-10">
											<div class="input-group">
												<span class="input-group-addon"><i class="fa fa-user fa" aria-hidden="true"></i></span>
												<h:inputText id="description" class="form-control" value="#{adminController.description}" p:placeholder="#{msg['description.placeholder']}" required="true" requiredMessage="description is required"/>
												<h:message for="description" style="color:red"/>
											</div>
										</div>
									 </div>
									 
									 <h:commandButton value="#{msg['add']}" action="#{adminController.add}" class="btn btn-success btnSpace">
									 	<f:ajax execute="categoryForm" render="categoryForm:categoryTable" />
									 </h:commandButton>
							  
							 	</div>
							 </div>
							 
							<h:dataTable id="categoryTable"
										 value="#{adminController.categoryList}" var="cat" 
										 class="table table-responsive table-bordered table-striped"
										 headerClass = "employeeTableHeader"
										 columnClasses="column1,column2,column3">                                                > 
							    <h:column sortingExpression="#{cat.description}" style="width: 100px;">
							        <f:facet name="header">
					    			   <h:commandLink value="#{msg['category']}"  action="#{adminController.sortByDescription}">
					    			   		<f:ajax render="@form" />
					    			   </h:commandLink>
					    			</f:facet>
	   			
							        <h:inputText value="#{cat.description}" rendered="#{cat.editable}" required="true" requiredMessage="description is required"/>
	               					<h:outputText value="#{cat.description}" rendered="#{not cat.editable}" />
	               					<f:attribute value="center" name="align" />
									<f:attribute value="middle" name="valign" />
							    </h:column>
							    
							    
							    <h:column>
					                <h:commandLink action="#{adminController.edit(cat)}" 
					                			   class="btn btn-primary btn-sm"
					                			   rendered="#{not cat.editable}">
					                	<span class="glyphicon glyphicon-pencil"></span> #{msg['edit']}
										<f:ajax render="@form" />
					                </h:commandLink>
					                
					                <h:commandLink action="#{adminController.update(cat)}" 
					                			   class="btn btn-success btn-sm"
					                			   rendered="#{cat.editable}">
					                	<span class="glyphicon glyphicon-save"></span> #{msg['save']}
					                    <f:ajax execute="categoryForm:categoryTable" render="categoryForm:categoryTable" /> 
					                </h:commandLink>
					                 
					                <h:commandLink value="#{msg['cancel']}" 
					                			   class="btn btn-default btn-sm"
					                			   action="#{adminController.cancelEdit(cat)}" 
					                			   rendered="#{cat.editable}" >
					                    <f:ajax render="@form" />
					                </h:commandLink>
					                
					                <f:attribute value="center" name="align" />
									<f:attribute value="middle" name="valign" />
					            </h:column>
					            			               
					            <h:column>
					                <h:commandLink id="remove"
					                			   class="btn btn-danger btn-sm"
					                			   action="#{adminController.remove(cat)}"
					                               onclick="return confirm('#{msg['deleteQuestion']}')">
					                    <span class="glyphicon glyphicon-trash"></span> #{msg['delete']}
					                    <f:ajax render="@form" />
					                </h:commandLink>
					            </h:column>
							</h:dataTable>
				 								
					</h:form>									
				</div>								
			</div>


		
		</div>
	</ui:define>
</ui:composition>