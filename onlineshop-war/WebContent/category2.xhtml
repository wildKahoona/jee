<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
			 xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
			 xmlns:h="http://xmlns.jcp.org/jsf/html"
			 xmlns:f="http://xmlns.jcp.org/jsf/core"
			 xmlns:c="http://java.sun.com/jsp/jstl/core"
			 xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
	
	<div class="row">
	
		<div class="panel panel-primary" style="margin:20px;">
			<div class="panel-heading">
				<h3 class="panel-title">Kategorien</h3>
			</div>
			<div class="panel-body">
						
				<h:form id="categoryForm">
					<h:message for="categoryForm" showSummary="true" styleClass="text-success"/>
						
					<h2>#{msg.categoryAddTitle}</h2>
					
					<div class="col-sm-12">

						<div class="row">
							<div class="col-sm-6 form-group">
								<div class="form-group"> 
									<h:outputLabel value="#{msg['description']}:"/>
									<div class="cols-sm-10">
										<div class="input-group">
											<span class="input-group-addon"><i class="fa fa-user fa" aria-hidden="true"></i></span>
											<h:inputText class="form-control" value="#{categoryController.description}" p:placeholder="#{msg['description.placeholder']}" required="true"/>
										</div>
									</div>
								 </div>
								 
								 <h:commandButton value="#{msg['add']}" action="#{categoryController.add}" class="btn btn-success btnSpace">
								 	<f:ajax execute="categoryForm" render="categoryForm:categoryTable" />
								 </h:commandButton>
        
						 	</div>
						 </div>
							
						<div class="row">
							<h:dataTable id="categoryTable" columnClasses="column1"
										 value="#{categoryController.categoryList}" var="category" 
										 class="table table-responsive table-bordered table-striped "                                                  > 
							    <h:column>
							        <f:facet name="header">#{msg.category}</f:facet>
							        <h:inputText value="#{category.description}" rendered="#{category.editable}" />
                					<h:outputText value="#{category.description}" rendered="#{not category.editable}" />
							    </h:column>
							    
							    
							    <h:column>
					                <h:commandLink action="#{categoryController.edit(category)}" 
					                			   class="btn btn-primary btn-sm"
					                			   rendered="#{not category.editable}">
					                	<span class="glyphicon glyphicon-pencil"></span> #{msg['edit']}
					                     <!-- <f:ajax render="@form" /> -->
					                </h:commandLink>
					                
					                <h:commandLink action="#{categoryController.update(category)}" 
					                			   class="btn btn-success btn-sm"
					                			   rendered="#{category.editable}">
					                	<span class="glyphicon glyphicon-save"></span> #{msg['save']}
					                     <!-- <f:ajax execute="@form" render="@form" / -->>
					                </h:commandLink>
					            </h:column> 
				                <h:column>
					                <h:commandLink value="#{msg['cancel']}" action="#{categoryController.cancelEdit(category)}" 
					                			   rendered="#{category.editable}" >
					                    <f:ajax render="@form" />
					                </h:commandLink>
					            </h:column>
					            <h:column>
					                <h:commandLink id="remove"
					                			   class="btn btn-danger btn-sm"
					                			   action="#{categoryController.remove(category)}"
					                               onclick="return confirm('#{msg['deleteQuestion']}')">
					                    <span class="glyphicon glyphicon-trash"></span> #{msg['delete']}
					                    <f:ajax render="@form" />
					                </h:commandLink>
					            </h:column>
						            
					            
					            
							</h:dataTable>
						</div> 					
					</div>
					
				</h:form>
			</div>
		</div>
	
	</div>

</ui:fragment>